/*! leaflet-routing-gpx - version 1.0.0 - 2016-08-26 - Copyright 2016 Christian Guyette - Contact: http//www.ouaie.be/ - This  program is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation; either version 3 of the License, or any later version.*/

!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){!function(){"use strict";L.Routing.Gpx=L.Routing.Control.extend({_GpxRoute:null,initialize:function(a){L.Util.setOptions(this,a),L.Routing.Control.prototype.initialize.call(this,a)},_updateLines:function(a){this._GpxRoute=a.route,L.Routing.Control.prototype._updateLines.call(this,a),this.fire("gpxchanged")},_toXmlString:function(a){return a.replace("&","&amp;").replace("'","&apos;").replace('"',"&quote;").replace(">","&gt;").replace("<","&lt;")},getGpxString:function(a){void 0===a&&(a=a||{}),void 0===a.GpxXmlDeclaration&&(a.GpxXmlDeclaration=!0),void 0===a.GpxDate&&(a.GpxDate=2),void 0===a.GpxWaypoints&&(a.GpxWaypoints=!0),void 0===a.GpxRoute&&(a.GpxRoute=!1),void 0===a.GpxTrack&&(a.GpxTrack=!0);var b,c="\n",d="\n\t",e="\n\t\t",f="\n\t\t\t";switch(a.GpxDate){case 0:b="";break;case 1:b="time='1970-01-01T00:00:00.000Z' ";break;default:b="time='"+(new Date).toISOString()+"' "}var g="";if(a.GpxXmlDeclaration&&(g="<?xml version='1.0'?>"+c),g+="<gpx xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xmlns:xsd='http://www.w3.org/2001/XMLSchema' xsi:schemaLocation='http://www.topografix.com/GPX/1/1 http://www.topografix.com/GPX/1/1/gpx.xsd' version='1.1' creator='Leaflet-Routing-Gpx'>",this._GpxRoute){var h=0;if(this._GpxRoute.waypoints&&a.GpxWaypoints)for(h=0;h<this._GpxRoute.waypoints.length;h++)g+=d+"<wpt lat='"+this._GpxRoute.waypoints[h].latLng.lat+"' lon='"+this._GpxRoute.waypoints[h].latLng.lng+"' "+b+"name='"+h+"' />";if(this._GpxRoute.coordinates&&0<this._GpxRoute.coordinates.length){if(a.GpxRoute){if(g+=d+"<rte>",this._GpxRoute.instructions&&0<this._GpxRoute.instructions.length)for(h=0;h<this._GpxRoute.instructions.length;h++)g+=e+"<rtept lat='"+(this._GpxRoute.coordinates[this._GpxRoute.instructions[h].index].lat?this._GpxRoute.coordinates[this._GpxRoute.instructions[h].index].lat:this._GpxRoute.coordinates[this._GpxRoute.instructions[h].index][0])+"' lon='"+(this._GpxRoute.coordinates[this._GpxRoute.instructions[h].index].lng?this._GpxRoute.coordinates[this._GpxRoute.instructions[h].index].lng:this._GpxRoute.coordinates[this._GpxRoute.instructions[h].index][1])+"' "+b+"name='"+h+"' desc='"+this._toXmlString(this._formatter.formatInstruction(this._GpxRoute.instructions[h]))+"' />";g+=d+"</rte>"}if(a.GpxTrack){for(g+=d+"<trk>",g+=e+"<trkseg>",h=0;h<this._GpxRoute.coordinates.length;h++)g+=f+"<trkpt lat='"+(this._GpxRoute.coordinates[h].lat?this._GpxRoute.coordinates[h].lat:this._GpxRoute.coordinates[h][0])+"' lon='"+(this._GpxRoute.coordinates[h].lng?this._GpxRoute.coordinates[h].lng:this._GpxRoute.coordinates[h][1])+"' "+b+"name='"+h+"' />";g+=e+"</trkseg>",g+=d+"</trk>"}}}return g+=c+"</gpx>"},getRouteCoordinates:function(){return this._GpxRoute&&this._GpxRoute.coordinates&&0<this._GpxRoute.coordinates.length?JSON.stringify(this._GpxRoute.coordinates):null},getRouteHTMLElement:function(a){a=a||{},a.RouteElement=a.RouteElement||"div",a.RouteHeader=a.RouteHeader||"<h1>Itinéraire:</h1>",a.RouteElementId=a.RouteElementId||"Route",a.RouteSummaryTemplate=a.RouteSummaryTemplate||'<div class="Route-Summary">Distance&nbsp;:&nbsp;{ Distance }&nbsp;-&nbsp;Temps&nbsp;:&nbsp;{ Time }</div>',a.CumDistanceTemplate=a.CumDistanceTemplate||'<div class="Route-CumDistance"> Distance cumulée&nbsp;:&nbsp;{ CumDistance }<div>',a.RoutePreInstructionTemplate=a.RoutePreInstructionTemplate||'<div class="Route-PreInstruction">{Instruction}</div>',a.RouteNextDistanceTemplate=a.RouteNextDistanceTemplate||'<div class="Route-PostInstruction">Continuez sur {NextDistance}</div>';var b=document.createElement("div");if(b.id=a.RouteElementId,b.innerHTML=a.RouteHeader,this._GpxRoute.instructions&&0<this._GpxRoute.instructions.length){var c=document.createElement("div");b.appendChild(c),c.outerHTML=L.Util.template(a.RouteSummaryTemplate,{Distance:this._formatter.formatDistance(this._GpxRoute.summary.totalDistance),Time:this._formatter.formatTime(this._GpxRoute.summary.totalTime)});var d=0,e=0;for(d=0;d<this._GpxRoute.instructions.length;d++)if(this._GpxRoute.coordinates[this._GpxRoute.instructions[d].index].lat);else{if(this._GpxRoute.instructions[d].verbal_pre_transition_instruction){var f=document.createElement("div");b.appendChild(f),f.outerHTML=L.Util.template(a.RoutePreInstructionTemplate,{Instruction:""+(d+1)+" - "+this._toXmlString(this._getFrenchInstruction(this._GpxRoute.instructions[d]))})}if(0<this._GpxRoute.instructions[d].distance){var g=document.createElement("div");b.appendChild(g),g.outerHTML=L.Util.template(a.RouteNextDistanceTemplate,{NextDistance:this._formatter.formatDistance(Math.round(1e3*this._GpxRoute.instructions[d].distance)/1e3)})}if(0<e){var h=document.createElement("div");b.appendChild(h),h.outerHTML=L.Util.template(a.CumDistanceTemplate,{CumDistance:this._formatter.formatDistance(Math.round(1e3*e)/1e3)})}e+=this._GpxRoute.instructions[d].distance}}return b},_getFrenchInstruction:function(a){var b="",c=0;if(a.street_names)for(c=0;c<a.street_names.length;c++)0<c&&(b+=" - "),b+=a.street_names[c];return 0<b.length&&28!=a.type&&(b="sur "+b),this._getFrenchInstructionPrefix(a.type)+b},_getFrenchInstructionPrefix:function(a){switch(a){case 1:return"Départ ";case 2:return"Le départ est à votre droite ";case 3:return"Le départ est à votre gauche ";case 4:return"Arrivée ";case 5:return"L'arrivée est à votre droite ";case 6:return"L'arrivée est à votre gauche ";case 7:return"Devient ";case 8:return"Continuez ";case 9:return"Tournez légèrement à droite ";case 10:return"Tournez à droite ";case 11:return"Tournez fortement à droite ";case 12:return"Faites demi-tour à droite ";case 13:return"Faites demi-tour à gauche ";case 14:return"Tournez fortement à gauche ";case 15:return"Tournez à gauche ";case 16:return"Tournez légèrement à gauche ";case 17:return"Descendez tout droit ";case 18:return"Descendez à droite";case 19:return"Descendez à gauche ";case 20:return"Sortez à droite ";case 21:return"Sortez à gauche ";case 22:return"kStayStraight";case 23:return"Restez à droite ";case 24:return"Restez à gauche ";case 25:return"kMerge";case 26:return"Entrez dans le rond-point ";case 27:return"Sortez du rond-point ";case 28:return"Entrez dans le ferry ";case 29:return"Sortez du ferry "}return""}}),L.Routing.gpx=function(a){return new L.Routing.Gpx(a)},"undefined"!=typeof b&&b.exports&&(b.exports=L.Routing.gpx)}()},{}]},{},[1]);